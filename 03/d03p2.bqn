#! /usr/bin/env -S bqn -f

Split â† (Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>)âˆ˜â‰ âŠ”âŠ¢

re â† "mul\([0-9]{1,3},[0-9]{1,3}\)|do(n't)?\(\)"
cmd â† "/usr/bin/grep"â€¿"-Eo"â€¿re âˆ¾ â€¢args
âŸ¨r, input, errâŸ© â† â€¢SH cmd
input â†© (@+10) Split input

Solve â† {ğ•Š input:
  keep â† "," âˆ¾ '0' + â†•10
  doing â† 1
  Mul â† Ã—Â´ â€¢ParseFloatÂ¨âˆ˜(Â· ','âŠ¸Split âˆŠâŸœkeep/âŠ¢)
  Solve1 â† {
    "do()": doingâ†©1 â‹„ 0 ;
    "don't()": doingâ†©0 â‹„ 0 ;
    ğ•©: doing ? Mul ğ•© ;
    0
  }
  +Â´ Solve1Â¨ input
}

result â† Solve input

â€¢Show result
