#! /usr/bin/env -S bqn -f

_FP â† { F _ğ•£ x: {F xâ†©ğ•©}â€¢_while_{xâ‰¢ğ•©} F x ; ğ•¨âŠ¸ğ”½ _ğ•£ ğ•©  }

ToNats â† { ((>âŸœÂ«0âŠ¸â‰¤) / 0(0âŠ¸â‰¤Ã—Ã—âŸœ10âŠ¸+)`âŠ¢) 10âŠ¸â‰¤âŠ¸(Â¬âŠ¸Ã—-âŠ£) ğ•©-'0' }
Load â† { > (1024âŒŠâ‰ )âŠ¸â†‘ ToNatsÂ¨ â€¢FLines ğ•© }

moves â† âŸ¨Â», Â»Ë˜, Â«, Â«Ë˜âŸ©
Solve â† { ğ•Š bytes:
  spos â† âŸ¨1, 1âŸ© â‹„ epos â† 1+âŒˆËbytes â‹„ dim â† 2+epos
  map â† (âˆ§Â´ moves {ğ•ğ•©}Â¨ <dimâ¥Š1) {0âŒ¾(ğ•¨âŠ¸âŠ‘) ğ•©}Ë 1+bytes
  mask â† {âŠ‘â—¶âˆâ€¿0}â‰0 map
  cost0 â† 0âŒ¾(sposâŠ¸âŠ‘) dimâ¥Šâˆ
  Step â† { ğ•Š cost: costâŒŠ âŒŠÂ´ moves {mask+ğ•ğ•©}Â¨ <1+cost }
  epos âŠ‘ Step _FP cost0
}

â€¢Showâˆ˜Solveâˆ˜LoadÂ¨ â€¢args
